<!DOCTYPE html>
<html lang="es">
<head>
    <link rel=stylesheet href="css/estilos.css" TYPE="text/css">
    <meta charset="utf-8">
    <meta nombre="viewport" content="width=device-width, initial-scale=1,shrink-to-fit=no">
    <title>Practica 5</title>
       
    <script src="js/person.js"></script> 
    <script>
        let ListPerson = new Array(new person("Edu", "Castilla", "Criado"),
        new  person("Miguel", "Castilla", "Criado"),
        new person("Cristina", "Rios", "Rodriguez"));

        function person_Name() {
            let nombre = prompt("Introduzca un nombre.");
                return nombre;
        }

        function person_Apellido1() {
            let apellido_1 = prompt("Introduzca primer apellido.");
                return apellido_1;
        }

        function person_Apellido2() {
            let apellido_2 = prompt("Introduzca segundo apellido.");
                return apellido_2;
        }
        function recogerPersona() {
            nombre = person_Name();
            apellido1 = person_Apellido1();
            apellido2 = person_Apellido2();
            Person = new person(nombre, apellido1, apellido2)
                return Person;
        }

        function añadirPersona(person) {
            ListPerson.push(person);
            setTable();
            actualizar();
        }

        function eliminarPersona() {
            ListPerson.pop();
            setTable();
            actualizar();
        }

        function setTable(){
            document.getElementById('padre').innerHTML = "";
        }

        function mostrarPersona(person) {
            document.getElementById('padre').insertRow().innerHTML = 
                `<tr><td>${person.nombre}</td>
                <td>${person.apellido1}</td>
                <td>${person.apellido2}</td></tr>`;
        }

        function actualizar() {
            for (let i = 0; i <= ListPerson.length; i++) {
                mostrarPersona(ListPerson[i]);
            }
        }
    </script>
</head>

<body onload="actualizar()">
    <div id="cuerpo">
        <h2>Tabla Registros:</h2>
        <div class="table-responsive">
            <center>
            <table class="tablaperson">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Primer Apellido</th>
                        <th>Segundo Apellido</th>
                    </tr>
                </thead>
                    <tbody id="padre"></tbody>
            </table>
            </center>
            </div>
        
           
        <div id="añadir">
            <input value="Registrar nueva persona" type="button" onclick="añadirPersona(recogerPersona())"class="button">
        </div>
        <div id="borrar">
            <input value="Borrar última persona" type="button" onclick=eliminarPersona() class="button">
        </div>
        </div>
</body>

</html>